job:
  image: 'hmctspublic.azurecr.io/sscs/ccd-case-migration:latest'
  kind: CronJob
  ingressHost: sscs-ccd-case-migration-{{ .Values.global.environment }}.service.core-compute-{{ .Values.global.environment }}.internal
  aadIdentityName: sscs
  keyVaults:
    sscs:
      secrets:
        - name: idam-sscs-oauth2-client-secret
          alias: IDAM_OAUTH2_DATA_STORE_CLIENT_SECRET
        - name: idam-sscs-systemupdate-user
          alias: IDAM_USER
        - name: idam-sscs-systemupdate-password
          alias: IDAM_PASS
        - name: sscs-s2s-secret
          alias: DATA_STORE_IDAM_KEY
        - name: idam-sscs-systemupdate-user
          alias: IDAM_SSCS_SYSTEMUPDATE_USER
        - name: idam-sscs-systemupdate-password
          alias: IDAM_SSCS_SYSTEMUPDATE_PASSWORD
        - name: app-insights-connection-string
          alias: app-insights-connection-string
        - name: encoded-data-string-wa-fields-removal
          alias: WA_FIELDS_ENCODED_DATA_STRING
        - name: encoded-data-string-completed-hearings-outcomes
          alias: COMPLETED_HEARINGS_OUTCOMES_ENCODED_DATA_STRING
        - name: encoded-data-string-non-listed-hearings-outcomes
          alias: NON_LISTED_HEARINGS_OUTCOMES_ENCODED_DATA_STRING
        - name: encoded-data-string-case-outcome-gaps-migration
          alias: CASE_OUTCOME_GAPS_ENCODED_DATA_STRING
        - name: encoded-data-string-hmcts-dwp-state-migration
          alias: HMCTS_DWP_STATE_ENCODED_DATA_STRING

  environment:
    MIGRATION_WA_ENABLED: true
    IDAM_CLIENT_ID: sscs
    IDAM_S2S_URL: http://rpe-service-auth-provider-{{ .Values.global.environment }}.service.core-compute-{{ .Values.global.environment }}.internal
    IDAM_API_URL: https://idam-api.{{ .Values.global.environment }}.platform.hmcts.net
    IDAM_OAUTH2_REDIRECT_URL: https://evidence-sharing-preprod.sscs.reform.hmcts.net
    MIGRATION_CASETYPE: Benefit
    MIGRATION_QUERY_SIZE: 10000
    MIGRATION_CASE_LIMIT: 1000
    HMC_API_URL: "http://hmc-cft-hearing-service-{{ .Values.global.environment }}.service.core-compute-{{ .Values.global.environment }}.internal"
