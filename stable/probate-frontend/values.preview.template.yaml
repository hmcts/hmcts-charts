nodejs:
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_NAME}.preview.platform.hmcts.net
  memoryRequests: 64Mi
  memoryLimits: 1Gi
  devmemoryRequests: 64Mi
  devmemoryLimits: 1Gi
  autoscaling:
    enabled: false
  environment:
    REDIS_HOST: ${SERVICE_NAME}-redis-master
    REDIS_PORT: 6379
    REDIS_USE_TLS: false
    LAUNCHDARKLY_ENABLED: true
    DYNATRACE_URL: /public/javascripts/document-upload.js
  keyVaults:
    probate:
      resourceGroup: probate
      secrets:
        - name: frontend-redis-access-key
          alias: frontend-redis-access-key
        - name: idam-s2s-secret
          alias: idam-s2s-secret
        - name: ccidam-idam-api-secrets-probate
          alias: ccidam-idam-api-secrets-probate
        - name: postcode-service-url
          alias: postcode-service-url
        - name: postcode-service-token2
          alias: postcode-service-token2
        - name: probate-survey
          alias: probate-survey
        - name: probate-survey-end
          alias: probate-survey-end
        - name: probate-service-id
          alias: probate-service-id
        - name: probate-site-id
          alias: probate-site-id
        - name: payCaseWorkerUser
          alias: payCaseWorkerUser
        - name: payCaseWorkerPass
          alias: payCaseWorkerPass
        - name: app-insights-connection-string
          alias: app-insights-connection-string
        - name: launchdarkly-key
          alias: launchdarkly-key
        - name: launchdarklyUserkeyFrontend
          alias: launchdarklyUserkeyFrontend
        - name: pcq-token-key
          alias: pcq-token-key
        - name: webchat-avaya-url
          alias: webchat-avaya-url
        - name: webchat-avaya-client-url
          alias: webchat-avaya-client-url
        - name: webchat-avaya-service
          alias: webchat-avaya-service
        - name: webchat-kerv-deployment-en
          alias: webchat-kerv-deployment-en
        - name: webchat-kerv-deployment-cy
          alias: webchat-kerv-deployment-cy
        - name: webchat-kerv-genesys-base-url
          alias: webchat-kerv-genesys-base-url
        - name: webchat-kerv-environment
          alias: webchat-kerv-environment
        - name: webchat-kerv-kerv-base-url
          alias: webchat-kerv-kerv-base-url
        - name: webchat-kerv-api-key
          alias: webchat-kerv-api-key

redis:
  enabled: true
  serviceAccount:
    create: false
    name: "probate"
    automountServiceAccountToken: true

idam-pr:
  enabled: true
  redirect_uris:
    Probate:
      - https://${SERVICE_FQDN}/oauth2/callback

global:
  security:
    allowInsecureImages: true
